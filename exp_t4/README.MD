# Getting Started!
## Step 1: Setup environment
```
pip install -r requirements.txt
```

# Step 2: Change the path link to data folder, prompts, and output
```
structure of folder for the code
exp_t4\
    |_data
        |_prompt_full.json
        |_prompt.json
    |_output
        |_finetuned
        |_fewshot
    |_srcipts
    |_src


folder_of_Coliee_data\
    |_text // the original data provided from Coliee organizers
    |_train // folder that contains the data using for training step, decided by user
    |_test // folder that contains the testing data, decided by user
    |_fewshot // folder that contains the file using as example for fewshot setting, can be set anywhere else outside of this tree
    |_cot // folder that contain the Chain of thought reasonings generated by LLM, can be set anywhere else outside of this tree
```
# Step 3: Run
```
In this task, we implement 3 methods
1. Fewshot setting
    change the paths in "exp_t4/scripts/fewshot.sh" inside scripts folders
    few setting need to pay attention inside this scripts:
        model_name      : the name of model that used for fewshot settings
        cache_dir       : path to cache folder
        data_path       : path of folder that contains xml files that will be used as example for fewshot settings
        output_file_path: path of output 
        list_prompt_path: path of .json file that contains the template to generate the prompt 
        test_file_path  : use to specify the file using for test data, can be ignored to change the value inside the file exp_t4/src/fewshot.py

2. Chain of thoughts (CoT) Fewshot
    2.1 Generated the chain of thoughts reasonings
        change the path and value inside "exp_t4/scripts/generate_cot.sh"
        few setting need to pay attention inside this scripts:
            model_name      : the name of model that used for generate reasonings
            cache_dir       : path to cache folder
            data_path       : path of folder that contains xml files that will be used as example for generating reasonings
            output_file_path: path of CoT output, this path will be used for later purpose
            list_prompt_path: path of .json file that contains the template to generate the prompt for generating reasonings
            test_file_path  : use to specify the file using for test data, can be ignored to change the value inside the file exp_t4/src/generated_cot.py
    2.2 Running fewshot setting with CoT
        change the path and value inside "exp_t4/scripts/fewshot_cot.sh"
        few setting need to pay attention inside this scripts:
            model_name      : the name of model that used for gfewshot settings
            cache_dir       : path to cache folder
            data_path       : path of folder that contains xml files that will be used as example for fewshot settings
            output_file_path: path of output
            list_prompt_path: path of .json file that contains the template to generate the prompt for fewshot settings
            test_file_path  : use to specify the file using for test data, can be ignored to change the value inside the file exp_t4/src/fewshot_cot.py
            cot_path        : the generated CoT path which is used as "output_file_path" in the step 2.1.
3. Paraphrased fintuned
    3.1 Paraphrased
    3.2 Fintuning with Lora:
        change the paths in "exp_t4/scripts/finetuned_lora.sh" inside scripts folders
        few setting need to pay attention inside this scripts:
            tokenize_model      : name of model used for tokenizing step
            model_name          : name of model used for fine-tuing step
            cache_dir           : path to cache folder          
            output_path         : path to output folder
            list_prompt_path    : path of .json file that contains the template to generate the prompt for fewshot settings
            test_file_path      : folder that contains the testing files
            train_file_path     : folder that contains the training files
            output_data_path    : folder that contain output data
            batch_size          : batch size
            prompt_id           : id of prompt will be used for finetuning step
            epochs              : number of fintuning epoch
            output_name_project : name of project for wandb
            strategy            : strategy used for finetuning, receive 2 value which is "zeroshot" and "fewshot"
            fewshot_data_path   : folder that contains the example for fewshot settings, only used when the strategy is "fewshot"
4. Infering step
    change the value and run the cript in "exp_t4/scripts/infer.sh"
```

# Note: You can refer to ipynb files
